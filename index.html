<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Progression - Workout Tracker</title>
<link rel="manifest" href="./manifest.json">
<meta name="theme-color" content="#121212">
<script src="https://accounts.google.com/gsi/client" async defer></script>
<style>
/* ===================
   GLOBAL & BASE STYLES
=================== */
* { margin: 0; padding: 0; box-sizing: border-box; }
body { font-family: Arial, sans-serif; background: #121212; color: #fff; height: 100vh; overflow: hidden; }
.screen { display: none; width: 100%; height: 100vh; }
.active { display: block; }

/* ===================
   ONBOARDING STYLES
=================== */
.container { position: relative; width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; overflow: hidden; }
.star-particle, .particle { position: absolute; border-radius: 50%; pointer-events: none; }
.star-particle { width: 3px; height: 3px; background: #ff6b35; box-shadow: 0 0 6px rgba(255,107,53,0.8); }
.particle { width: 4px; height: 4px; background: #ff6b35; opacity: 0; }
.energy-wave { position: absolute; border: 3px solid #ff6b35; border-radius: 50%; opacity: 0; transform: scale(0); box-shadow: 0 0 20px rgba(255,107,53,0.5); }
.wave-1 { width: 100px; height: 100px; top: 50%; left: 50%; transform: translate(-50%, -50%) scale(0); }
.wave-2 { width: 200px; height: 200px; top: 50%; left: 50%; transform: translate(-50%, -50%) scale(0); }
.wave-3 { width: 300px; height: 300px; top: 50%; left: 50%; transform: translate(-50%, -50%) scale(0); }
.black-hole { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 20px; height: 20px; background: radial-gradient(circle,#000 30%,#1a1a1a 70%,transparent 100%); border-radius: 50%; opacity: 0; box-shadow: 0 0 50px rgba(0,0,0,0.8), inset 0 0 20px rgba(255,107,53,0.3); }
.progression-text { position: absolute; top: 35%; left: 50%; transform: translate(-50%, -50%); font-size: 72px; font-weight: bold; color: #ff6b35; letter-spacing: 8px; text-shadow: 0 0 30px rgba(255,107,53,0.6); opacity: 0; }
.progression-letters { display: inline-block; opacity: 0; transform: translateY(100px) rotateX(90deg); transition: all 0.6s ease; }
.tagline-text { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 24px; font-weight: 300; color: #ff6b35; letter-spacing: 3px; opacity: 0; margin-top: 20px; }
.begin-button { position: absolute; top: 70%; left: 50%; transform: translateX(-50%); background: linear-gradient(45deg,#ff6b35,#ff8c42); border: none; padding: 20px 60px; font-size: 24px; font-weight: bold; color: white; border-radius: 15px; cursor: pointer; opacity: 0; box-shadow: 0 10px 30px rgba(255,107,53,0.4); transition: transform 0.3s ease; }
.begin-button:hover { transform: translateX(-50%) translateY(-5px); }
.restart-btn { position: absolute; top: 20px; right: 20px; background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2); color: white; padding: 10px 20px; border-radius: 8px; cursor: pointer; font-size: 14px; }

/* Animations */
.energy-wave-expand-and-reverse { animation: energyWaveExpandReverse 2.5s ease-in-out forwards; }
.black-hole-appear { animation: blackHoleAppear 0.8s ease-in forwards; }
.black-hole-collapse { animation: blackHoleCollapse 0.6s ease-out forwards; }
.text-emerge-from-singularity { animation: textEmergeFromSingularity 1.2s ease-out forwards; }
.letter-emerge-from-center { animation: letterEmergeFromCenter 0.5s ease-out forwards; }
.tagline-emerge { animation: taglineEmerge 1s ease-out forwards; }
.button-appear { animation: buttonAppear 1s ease-out forwards; }

/* Keyframes */
@keyframes energyWaveExpandReverse { 0%{opacity:.8;transform:translate(-50%,-50%)scale(0);}30%{opacity:1;transform:translate(-50%,-50%)scale(4);}100%{opacity:0;transform:translate(-50%,-50%)scale(0);} }
@keyframes blackHoleAppear {from{opacity:0;transform:translate(-50%,-50%)scale(0);}to{opacity:1;transform:translate(-50%,-50%)scale(3);} }
@keyframes blackHoleCollapse {from{opacity:1;transform:translate(-50%,-50%)scale(3);}to{opacity:0;transform:translate(-50%,-50%)scale(0);} }
@keyframes textEmergeFromSingularity {0%{opacity:0;transform:translate(-50%,-50%)scale(0);}100%{opacity:1;transform:translate(-50%,-50%)scale(1);} }
@keyframes letterEmergeFromCenter {0%{opacity:0;transform:scale(0);}50%{opacity:1;transform:scale(1.3);}100%{opacity:1;transform:scale(1);} }
@keyframes taglineEmerge {0%{opacity:0;transform:translate(-50%,-50%)scale(0.8);}100%{opacity:1;transform:translate(-50%,-50%)scale(1);} }
@keyframes buttonAppear {from{opacity:0;transform:translateX(-50%)translateY(50px);}to{opacity:1;transform:translateX(-50%)translateY(0);} }

/* ===================
   HOME DASHBOARD STYLES
=================== */
.dashboard { text-align:center; padding: 30px; max-width: 500px; margin:auto; }
.logo { font-size: 48px; font-weight: bold; color: #ff3b30; margin-bottom: 10px; }
.tagline-home { color:#8e8e93;font-size:16px;margin-bottom:20px;text-transform:uppercase; }
.btn { display:block;width:100%;padding:18px;margin:10px 0;border-radius:12px;font-size:18px;font-weight:bold;cursor:pointer;border:none; }
.btn-primary { background:linear-gradient(135deg,#ff3b30,#ff6347);color:#fff; }
.stats-hint { margin-top:30px;padding:16px;background:rgba(255,255,255,0.05);border-radius:12px;border:1px solid rgba(255,255,255,0.1); }
.bottom-nav { position:fixed;bottom:0;width:100%;background:#1E1E1E;display:flex;justify-content:space-around;padding:10px 0; }
.nav-item { color:#aaa;text-align:center;font-size:12px;cursor:pointer; }
.nav-item.active { color:#FF6600; }
</style>
</head>
<body>

<!-- SCREEN 1: ONBOARDING -->
<div id="onboarding-screen" class="screen active">
    <div class="container">
        <div class="energy-wave wave-1" id="wave1"></div>
        <div class="energy-wave wave-2" id="wave2"></div>
        <div class="energy-wave wave-3" id="wave3"></div>
        <div class="black-hole" id="blackHole"></div>
        <div class="progression-text" id="progressionText">
            <span class="progression-letters" data-delay="0">P</span>
            <span class="progression-letters" data-delay="100">R</span>
            <span class="progression-letters" data-delay="200">O</span>
            <span class="progression-letters" data-delay="300">G</span>
            <span class="progression-letters" data-delay="400">R</span>
            <span class="progression-letters" data-delay="500">E</span>
            <span class="progression-letters" data-delay="600">S</span>
            <span class="progression-letters" data-delay="700">S</span>
            <span class="progression-letters" data-delay="800">I</span>
            <span class="progression-letters" data-delay="900">O</span>
            <span class="progression-letters" data-delay="1000">N</span>
        </div>
        <div class="tagline-text" id="taglineText">BREAK DOWN, BREAK THROUGH</div>
        <button class="begin-button" id="beginButton">Begin Onboarding</button>
    </div>
</div>

<!-- SCREEN 2: HOME DASHBOARD -->
<div id="home-screen" class="screen">
  <div class="dashboard">
    <div class="logo">Progression</div>
    <div class="tagline-home">Smart Training</div>
    <button class="btn btn-primary" onclick="navigate('logging-screen')">üèãÔ∏è Start Next Workout</button>
    <button class="btn btn-primary" onclick="navigate('plan-screen')">‚ú® View Plan</button>
    <div class="stats-hint">
      <div id="lastWorkoutText">Loading last workout...</div>
    </div>
  </div>
</div>

<script>
// SPA Navigation
document.getElementById('beginButton').addEventListener('click', () => {
    document.getElementById('onboarding-screen').classList.remove('active');
    document.getElementById('home-screen').classList.add('active');
});

// Onboarding Animation Logic
function startOnboardingAnimation() {
    const waves = [wave1, wave2, wave3], blackHole = blackHole, letters = document.querySelectorAll('.progression-letters');
    waves.forEach(w => w.className = w.className); // reset
    blackHole.className = 'black-hole';
    setTimeout(() => waves[0].classList.add('energy-wave-expand-and-reverse'), 500);
    setTimeout(() => waves[1].classList.add('energy-wave-expand-and-reverse'), 650);
    setTimeout(() => waves[2].classList.add('energy-wave-expand-and-reverse'), 800);
    setTimeout(() => blackHole.classList.add('black-hole-appear'), 2200);
    setTimeout(() => blackHole.classList.add('black-hole-collapse'), 3000);
    setTimeout(() => document.getElementById('progressionText').classList.add('text-emerge-from-singularity'), 3300);
    setTimeout(() => letters.forEach(l => setTimeout(() => l.classList.add('letter-emerge-from-center'), parseInt(l.dataset.delay) * 0.6)), 3800);
    setTimeout(() => document.getElementById('taglineText').classList.add('tagline-emerge'), 4400);
    setTimeout(() => document.getElementById('beginButton').classList.add('button-appear'), 5000);
}
window.addEventListener('load', () => setTimeout(startOnboardingAnimation, 300));
</script>
</body>
</html>
