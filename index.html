<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Workout Tracker</title>
  
  <!-- Theme and Manifest -->
  <meta name="theme-color" content="#121212">
  <link rel="manifest" href="./manifest.json">
  <link rel="icon" href="./assets/icons/icon-192.png" sizes="192x192">
  <link rel="apple-touch-icon" href="./assets/icons/icon-512.png">

  <!-- Styles -->
  <link rel="stylesheet" href="./assets/css/style.css">
</head>
<body class="dark-mode">
  
  <!-- ✅ Onboarding Screen -->
  <div id="onboarding" class="onboarding-screen active">
    <h2>Welcome to Workout Tracker</h2>
    <p>Select your preferences:</p>

    <!-- Goal -->
    <h3>Goal:</h3>
    <div>
      <button class="select-goal" data-goal="Hypertrophy">Hypertrophy</button>
      <button class="select-goal" data-goal="Strength">Strength</button>
    </div>

    <!-- Experience -->
    <h3>Experience:</h3>
    <div>
      <button class="select-experience" data-exp="Beginner">Beginner</button>
      <button class="select-experience" data-exp="Intermediate">Intermediate</button>
      <button class="select-experience" data-exp="Advanced">Advanced</button>
    </div>

    <!-- Equipment -->
    <h3>Equipment:</h3>
    <div>
      <button class="select-equipment" data-equip="Home">Home</button>
      <button class="select-equipment" data-equip="Gym">Gym</button>
    </div>

    <!-- Frequency -->
    <h3>Days per week:</h3>
    <div>
      <button class="select-frequency" data-days="2">2</button>
      <button class="select-frequency" data-days="3">3</button>
      <button class="select-frequency" data-days="4">4</button>
      <button class="select-frequency" data-days="5">5</button>
      <button class="select-frequency" data-days="6">6</button>
    </div>

    <!-- Cardio Toggle -->
    <h3>Include Cardio?</h3>
    <div>
      <button class="select-cardio-toggle" data-cardio="yes">Yes</button>
      <button class="select-cardio-toggle" data-cardio="no">No</button>
    </div>

    <!-- Cardio Options -->
    <div id="cardio-options" style="display: none;">
      <h3>Cardio Type:</h3>
      <div>
        <button class="select-cardio-type" data-type="Running">Running</button>
        <button class="select-cardio-type" data-type="Cycling">Cycling</button>
        <button class="select-cardio-type" data-type="Rowing">Rowing</button>
      </div>

      <h3>Cardio Sessions per Week:</h3>
      <div>
        <button class="select-cardio-frequency" data-cardiofreq="1">1</button>
        <button class="select-cardio-frequency" data-cardiofreq="2">2</button>
        <button class="select-cardio-frequency" data-cardiofreq="3">3</button>
      </div>
    </div>

    <!-- Google Sign-In -->
    <button id="google-signin-btn">Sign in with Google</button>
  </div>

  <!-- ✅ Main App Content (Hidden until onboarding complete) -->
  <div id="app-content" style="display:none;">
    <h2>Your Workout Plan</h2>
    <div id="workout-plan">No workout generated yet.</div>
    <button id="generateWorkout">Generate Workout</button>
    <button id="saveWorkout">Save Workout</button>
    
    <div id="history-container" style="margin-top:20px;">
      <h3>Workout History</h3>
      <ul id="history-list"></ul>
    </div>
  </div>

  <!-- ✅ Bottom Navigation -->
  <div id="bottom-nav" class="bottom-nav" style="display:none;">
    <button class="bottom-nav-item active" data-view="workout">Workout</button>
    <button class="bottom-nav-item" data-view="history">History</button>
  </div>

  <!-- ✅ Scripts -->
  <script src="./assets/js/db.js"></script>
  <script src="./assets/js/sync.js"></script>
  <script src="./assets/js/auth.js"></script>
  <script src="./assets/js/onboarding.js"></script>
  <script src="./assets/js/app.js"></script>
  <script src="./assets/js/navigation.js"></script>

  <!-- ✅ Service Worker -->
  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('./service-worker.js')
        .then(() => console.log("✅ Service Worker Registered"))
        .catch(err => console.log("❌ Service Worker Error:", err));
    }
  </script>
</body>
</html>
